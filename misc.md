# WANGFに関する各種情報

## 動作環境　Web版
-WASM対応のWebブラウザ(Chrome, Edge, Firefox, Safariなど)

## 動作環境　Desktop版
-Windows 10/11

　必要なモジュール(.NET 8ランタイム/Microsoft Edge WebView2)は内蔵のランタイムセットアップで自動的にインストールできます。

## SDKのインストール/実行方法
　現在インストール方法はありません。
　githubのファイルをクローンして参照して下さい。

## 作成したゲームのインストール/実行方法 (Web版)
　Web版は、ゲームを含む実行環境一式をWebサーバーにアップロードして、URLをブラウザで開いてください。

## 作成したゲームのインストール/実行方法 (Desktop版)
　実行ファイル本体とモジュールは扱いが異なります。

　実行ファイル本体は、WANGF.slnに含まれるBlazorMaui001をDirectKickableでビルドし、結果のバイナリーをコピーして実行します。

　モジュールは、DLLのショートカットを作成し、ショートカットをc:\ProgramData\autumn\WANGF\mdulesに移動させます。ここにショートカットが存在すると、実行ファイル本体が自動的にモジュールを拾い上げてゲーム開始時のメニューに名前を追加します。

## Web版/Desktop版データファイルの互換性
　基本的にデータファイルには互換性があります。
　Web版でインポート/エクスポートしたデータファイルはDesktop版でもインポート/エクスポートできます。

## データファイルの説明

　ANGFでは以下の3種類のファイルが保存されます。この3種類のファイルを移行すれば、別のPC、別の環境でもプレイを継続できます。

- セーブ機能で保存された途中経過ファイル(拡張子は各種) (自動セーブで保存されるファイルもこれに含まれる)
- 自動作成されるシステム ファイル (SystemFile.bin)　全てのゲームの永続的な設定データが含まれる。
- 自動作成されるスキップ ファイル (Skip.bin)　既に読んだメッセージのハッシュ値が記録されている。

　システム管理からエクスポート、インポートすると全て一括して処理されますが、ZIPファイルの中味を操作すると特定のファイルだけ移行することも出来ます。

## FAQ
- Q: Desktop版とWeb版の相違が知りたい A: 詳しくは https://github.com/autumn009/WANGF/blob/main/desktopwebdiff.md を参照
- Q: 絵や音は使えないのですか? A: タイトルCGを表示する機能は標準で含まれています。これを挿絵を見せるために使うことはできます。音は、好きなタイミングで好きなような音を出すAPIを叩けば出ます。そこは一切の制限はありません。
- Q: WANGFで作成可能なゲームのジャンルは何ですか? A: 基本的にアドベンチャーとなります。RPGも可能です。やや、シミュレーション寄りの内容となります。
- Q: WANGFのシミュレーションとはどういう意味ですか? A: たとえば、全ての場所は座標を持つことができ、移動メニューは座標が近い場所からリストを生成します。参照している他のモジュールが近くの場所を追加すればそれも自動的にメニューに出てきます。向こうのモジュールで定義されたアイテムをこちらのモジュールで売ることもできます。
- Q: WANGFで使用できるオブジェクトにはどのようなものがありますか? A: 場所、人、アイテム、ショップ、アイテムとショップの関係(ショップで販売されるアイテムを決定するために使用されます。これを追加するとショップの品揃えが増えます)など。
- Q: WANGFの移動メニューはシステム側で自動生成されるようですが、カスタマイズできますか? A: その場所を移動先として表示するかどうかを判定する機能や、移動に要する時間の決定機能はモジュール定義でカスタマイズできます。
- Q: キャラクターが喋る台詞の色はキャラクターごと異なるようですが、自分で決めることは出来ますか? A: できます。キャラクターを示すオブジェクト(Personクラスを継承したオブジェクト)のコンストラクタで色を指定するとその色で台詞は表示されます。
- Q: 自分で定義した型のオブジェクトをモジュール間で共有したいと思います。ModuleExクラスを継承したモジュールクラスにフレームワークの知らないクラスを追加して良いですか? Q: 問題ありません。追加してください。
- Q: ステータスの色を土曜は青に、日曜は赤に変えたいと思います。できますか? A: できます。
- Q: 「私」と「独白」は別人扱いですか? A: 表示が違うので別人扱いです。通常は主人公は「私」を使います。独白を出力する時だけ「独白」を使います。
- Q: 「私」の名前は変えられますか? A: はい。変えられます。
- Q: コレクションとは何ですか?　A: エンディングやトロフィーなど、純粋に集めるものを一般化したものがコレクションです。WANGFのモジュールは複数のコレクションを持つことができます。コレクションは収集状況を随時確認できます。
- Q: Desktop版はWindows版しかありません。A: Windows以外のプレイヤーはWeb版をプレイしてください。そのためにWeb版を作成しました。
- Q: Web版は一部機能が使えません。Mac or LinuxのDesktop版を作って下さい。A: 開発予算を出して頂けるのならいつでも喜んで開発いたします。
- Q: そんな金は出せません。A: ではWindows PCを買って下さい。開発予算に比べれば桁違いに格安ですよ。
- Q: Windows PCなど絶対に買いたくありません。A: Web版をプレイしてください。
- Q: モジュール開発がWindowsとVisual Studio前提ですが私はWindows PCを持っていません。A: 理論的に.NETのDLLが作成できればモジュール開発は可能です。ただ、そこはサポート対象外となりますので、ご了承ください。
