ジャーナリングファイル仕様

● 目的
・自動テストを構築する

● 機能
・手動操作内容を記録できる
・システムファイルを空にして開始できる
・プレイバック完了時を含む任意の時点でフラグ、称号等の状態をアサートでチェックできる
・任意のファイルに記録でき、任意のファイルから読み込める

● ファイル仕様
・UTF-8のテキストファイルとする
・XMLではない
・1行が1コマンドを示す
・行頭の1〜2文字がコマンドを示す(大文字小文字区別)
・コマンド名の後ろにはホワイトスペースを入れて区切る

● 否定アサート
　アサートの条件を否定する場合は、コマンド名のすぐ後ろに!を付ける
　(明示的にアサートの名を持つコマンドでのみ使用できる)

● コマンド仕様

・コメント (*)
例:
* これはコメントです

・シンプルメニュー選択 (M)
次のシンプルメニューを選択する。存在しない場合はアサートがフェイルする
例:
M 去る
M SYSTEM
M キャンセル

・日付アサート (D)
例:　(2010年10月1日)
D 2010/10/01

・時刻アサート (T)
例:　(1時23分)
T 01:23

・コレクションアサート　(S)
　コレクションがVisibleまたはOwnであるかを判定する。エンディングは基本的にOwnできないので、Visibleでも有効になる。

S モジュールId コレクション名 アイテム名 [サブアイテム名]
例:
S モジュールId エンディング グッドEnding

・所持金アサート　(Y)
　ある金額以上を持っている(否定アサートの場合は持っていない)
Y 金額
例:
Y 2000000

・コンプリート率アサート (RS)
対象はシステムファイル
RS モジュールId コレクション名 数値
例:
RS モジュールId エンディング 100

・真のコンプリート率アサート (RTS)
　対象はシステムファイル
　コンプリート率アサートと違って、隠し要素を含む全ての割合から算出する
RTS モジュールId コレクション名 数値
例:
RTS モジュールId エンディング名 100

・アイテム消費 (C)
C アイテム名

・装備変更 (EQ)
　アーギュメント無しは装備を外す
　装備名は人間可読の名前。重複してはならない。空白文字を含んではならない。

EQ 装備Index 装備名

・生活サイクル変更 (L)
L 生活サイクル起点時間
例:　(-4時間変更)
L -4

・買う (SB)
SB 個数 アイテム名

・売る (SS)
SS 個数 アイテム名

・プレイヤーネーム (N)
N 文字列
例:
N めるな

・システムファイル初期化 (IS)
IS

・モジュールごとコレクションクリア (ISM)
ISM モジュールId

・インクルード
　カレントディレクトリはこのファイルのディレクトリとなる
I ファイル名
例:
I std1.isj

・単純アイテム選択
　全持ち物から単純にアイテムを選ぶ

AI アイテム名

例:
AI サイダー

・進捗ガイドメッセージ
　進行中にガイドとして表示するメッセージ。機能的には意味を持たない

G 文字列
例:
G 処理中

・拡張
EX モジュールID モジュール定義文字列 (空白文字区切り)
